(this["webpackJsonpendet_food-web"]=this["webpackJsonpendet_food-web"]||[]).push([[0],{38:function(e,t,n){e.exports=n(61)},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),i=n(15),l=n(9),u=n(11);n(47),n(48);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M5.88867 10L11.89 3.99867L17.8913 10H17.89V20H5.89002V10H5.88867ZM3.89002 11.9987L2.4132 13.4755L1 12.0623L10.477 2.58529C11.2574 1.8049 12.5226 1.8049 13.303 2.58529L22.78 12.0623L21.3668 13.4755L19.89 11.9987V20C19.89 21.1046 18.9946 22 17.89 22H5.89002C4.78545 22 3.89002 21.1046 3.89002 20V11.9987Z"}),f=function(e){var t=e.svgRef,n=e.title,a=d(e,["svgRef","title"]);return r.a.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,p)},m=r.a.forwardRef((function(e,t){return r.a.createElement(f,s({svgRef:t},e))}));n.p;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g=r.a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M18.6562 20.897L20.8733 18.6798L20.0925 15.843L20.4327 15.0305L23 13.5818V10.4464L20.44 8.99173L20.1055 8.18067L20.8961 5.34235L18.6774 3.12683L15.8403 3.90748L15.0296 3.56758L13.5808 1H10.4454L8.99072 3.56004L8.17985 3.89446L5.34198 3.10281L3.1267 5.31809L3.90748 8.15567L3.56758 8.96634L1 10.4151V13.5496L3.55774 15.0076L3.89252 15.8193L3.10197 18.6572L5.31809 20.8733L8.15567 20.0925L8.96644 20.4325L10.4153 22.999H13.5498L15.0067 20.4412L15.8183 20.1065L18.6562 20.897ZM18.8527 13.6256L17.9809 15.7078L18.6362 18.0886L18.0678 18.657L15.6921 17.9951L13.609 18.8542L12.3874 20.999H11.5829L10.3714 18.8529L8.29157 17.9808L5.90948 18.6362L5.34205 18.0688L6.00387 15.693L5.14484 13.6101L3.00002 12.3876V11.583L5.14712 10.3715L6.01921 8.29155L5.36377 5.90947L5.93003 5.34321L8.30578 6.00595L10.3896 5.14655L11.6093 3H12.4129L13.6245 5.1471L15.7044 6.0192L18.087 5.36362L18.6558 5.93166L17.9941 8.30696L18.8535 10.3906L21 11.6103V12.4139L18.8527 13.6256ZM12 16C9.79085 16 7.99999 14.2091 7.99999 12C7.99999 9.79086 9.79085 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z"}),E=function(e){var t=e.svgRef,n=e.title,a=O(e,["svgRef","title"]);return r.a.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,g)},_=r.a.forwardRef((function(e,t){return r.a.createElement(E,v({svgRef:t},e))}));n.p;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=r.a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M20.1818 3H3.81818C2.81403 3 2 3.89543 2 5V7C2 8.10457 2.81403 9 3.81818 9H20.1818C21.186 9 22 8.10457 22 7V5C22 3.89543 21.186 3 20.1818 3ZM3.81818 11H20.1818C21.186 11 22 11.8954 22 13V15C22 16.1046 21.186 17 20.1818 17H3.81818C2.81403 17 2 16.1046 2 15V13C2 11.8954 2.81403 11 3.81818 11ZM4 13V15H20V13H4ZM4 5V7H20V5H4ZM14 19H2V21H14V19Z"}),N=function(e){var t=e.svgRef,n=e.title,a=C(e,["svgRef","title"]);return r.a.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,h)},y=r.a.forwardRef((function(e,t){return r.a.createElement(N,b({svgRef:t},e))}));n.p;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var j=r.a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M4 9.00001H5.99978C6.00007 9.36655 6.20262 9.71935 6.55279 9.89443C7.04677 10.1414 7.64744 9.9412 7.89443 9.44722L8.11803 9.00001H15.882L16.1056 9.44722C16.3526 9.9412 16.9532 10.1414 17.4472 9.89443C17.7974 9.71935 17.9999 9.36655 18.0002 9.00001H20V11H4V9.00001ZM17.118 7.00001H20C21.1046 7.00001 22 7.89544 22 9.00001V11C22 11.84 21.4821 12.5591 20.7482 12.8553C20.7516 12.9031 20.7534 12.9514 20.7534 13C20.7534 13.1459 20.7374 13.2914 20.7058 13.4339L19.1502 20.4339C18.9468 21.3489 18.1352 22 17.1978 22H6.80217C5.86477 22 5.05315 21.3489 4.8498 20.4339L3.29424 13.4339C3.25094 13.239 3.23767 13.0445 3.25134 12.8552C2.51767 12.5588 2 11.8399 2 11V9.00001C2 7.89544 2.89543 7.00001 4 7.00001H6.88197L9.10557 2.55279C9.35256 2.05881 9.95324 1.85859 10.4472 2.10558C10.9412 2.35257 11.1414 2.95324 10.8944 3.44722L9.11803 7.00001H14.882L13.1056 3.44722C12.8586 2.95324 13.0588 2.35257 13.5528 2.10558C14.0468 1.85859 14.6474 2.05881 14.8944 2.55279L17.118 7.00001ZM5.24662 13H18.7534L17.1978 20H6.80217L5.24662 13Z"}),R=function(e){var t=e.svgRef,n=e.title,a=S(e,["svgRef","title"]);return r.a.createElement("svg",L({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,j)},w=r.a.forwardRef((function(e,t){return r.a.createElement(R,L({svgRef:t},e))})),T=(n.p,function(){var e,t=null===(e=Object(l.f)())||void 0===e?void 0:e.pathname,n=0;return t.indexOf("spesa")>=0?n=1:t.indexOf("dispensa")>=0?n=2:t.indexOf("impostazioni")>=0&&(n=3),r.a.createElement("div",{className:"BottomNavbar"},r.a.createElement("div",{className:"pages"},r.a.createElement(i.b,{to:"/",className:"page ".concat(0===n?"active":"")},r.a.createElement("div",{className:"icon"},r.a.createElement(m,null)),r.a.createElement("div",{className:"text"},"Home")),r.a.createElement(i.b,{to:"/spesa",className:"page ".concat(1===n?"active":"")},r.a.createElement("div",{className:"icon"},r.a.createElement(w,null)),r.a.createElement("div",{className:"text"},"Spesa")),r.a.createElement(i.b,{to:"/dispensa",className:"page ".concat(2===n?"active":"")},r.a.createElement("div",{className:"icon"},r.a.createElement(y,null)),r.a.createElement("div",{className:"text"},"Dispensa")),r.a.createElement(i.b,{to:"/impostazioni",className:"page ".concat(3===n?"active":"")},r.a.createElement("div",{className:"icon"},r.a.createElement(_,null)),r.a.createElement("div",{className:"text"},"Impostazioni"))))}),x=function(e){var t=e.children;return r.a.createElement("div",{className:"DefaultLayout"},t,r.a.createElement(T,null))},A=(n(50),function(e){var t=e.withBackground,n=e.subtitle;return r.a.createElement("div",{className:"Header ".concat(t?"withBackground":"")},r.a.createElement("div",{className:"app-title"},"Ciao Federico!"),r.a.createElement("div",{className:"app-subtitle"},n))}),P=(n(51),n(52),function(e){var t=e.product;return r.a.createElement("div",{className:"ProductCard card"},r.a.createElement("img",{className:"product-image",src:null===t||void 0===t?void 0:t.image_thumb_url,alt:"product_image"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"expiry"},"0 giorni"),r.a.createElement("div",{className:"name"},null===t||void 0===t?void 0:t.product_name),r.a.createElement("div",{className:"footer"},r.a.createElement("img",{src:"/img/nutriscore-".concat(null===t||void 0===t?void 0:t.nutrition_grades,".svg"),className:"nutriscore",alt:"nutrition_score"}),r.a.createElement("img",{src:"/img/nova-group-".concat(null===t||void 0===t?void 0:t.nova_group,".svg"),className:"novagroup",alt:"nutrition_score"}),r.a.createElement("div",{className:"qta"},"100g"))))}),I=(n(53),function(e){var t=e.onClickEvent,n=e.children;return r.a.createElement("div",{onClick:t,className:"FloatingActionButton"},n)});function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var M=r.a.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M13 11H22V13H13V22H11V13H2V11H11V2H13V11Z"}),k=function(e){var t=e.svgRef,n=e.title,a=H(e,["svgRef","title"]);return r.a.createElement("svg",D({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,M)},U=r.a.forwardRef((function(e,t){return r.a.createElement(k,D({svgRef:t},e))})),V=(n.p,function(e){return{type:"ACTION_OPEN_SCAN_MODAL",payload:e}}),F=n(17),Z=(n(54),n(31)),B=n(32),z=n(35),W=n(37),q=n(18),J=n.n(q),X=function(e){Object(W.a)(n,e);var t=Object(z.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"interactive",className:"viewport"})}},{key:"componentWillUnmount",value:function(){J.a.offDetected(this._onDetected)}},{key:"_onDetected",value:function(e){this.props.onDetected(e)}},{key:"_onError",value:function(e){this.props.onError(e)}},{key:"stop",value:function(){J.a.stop()}},{key:"componentDidMount",value:function(){var e=this;J.a.init({inputStream:{type:"LiveStream",constraints:{width:window.innerWidth,height:window.innerHeight-72,facingMode:"environment"}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,decoder:{readers:["code_128_reader","ean_reader","upc_reader"]},multiple:!1,locate:!0},(function(t){if(t)return e._onError(t),console.log(t);J.a.start()})),J.a.onDetected(this._onDetected.bind(this))}}]),n}(a.Component),Q=(n(55),n(56),function(e){var t=e.product,n=e.onClickEvent;return r.a.createElement("div",{onClick:n,className:"SearchResult card"},r.a.createElement("img",{className:"product-image",src:null===t||void 0===t?void 0:t.image_thumb_url,alt:"product_image"}),r.a.createElement("div",{className:"name"},null===t||void 0===t?void 0:t.product_name))}),$=Object(u.b)((function(e){return{searchState:e.search}}))((function(e){var t=e.searchState,n=e.onProductSelect,a=null===t||void 0===t?void 0:t.results.map((function(e){return r.a.createElement(Q,{key:"product-".concat(e.code),product:e,onClickEvent:function(){return function(e){n&&"function"===typeof n&&n(e)}(e)}})}));return r.a.createElement("div",{className:"SearchContainer"},t.success&&a,t.loading&&r.a.createElement("span",{className:"loading"},"Cerco i prodotti..."),t.loading||t.success||t.error?"":r.a.createElement("span",{className:"waiting"},"Inserisci il nome del prodotto"))})),G=Object(u.b)((function(e){var t;return{open:null===(t=e.modals.productScanModal)||void 0===t?void 0:t.open}}),{closeModal:function(e){return{type:"ACTION_CLOSE_SCAN_MODAL",payload:e}},productScan:function(e){return{type:"ACTION_PRODUCT_SCAN",payload:e}},searchForProduct:function(e){return{type:"ACTION_SEARCH_PRODUCT",payload:e}}})((function(e){var t=e.open,n=e.closeModal,c=e.productScan,o=e.searchForProduct,i=Object(a.useState)(""),l=Object(F.a)(i,2),u=l[0],s=l[1],d=Object(a.useState)(!0),p=Object(F.a)(d,2),f=p[0],m=p[1],v=Object(a.useRef)(null),O=Object(a.useRef)(null);return r.a.createElement("div",{className:"ProductScanModal ".concat(t?"open":"")},r.a.createElement("div",{className:"header"},r.a.createElement("div",{onClick:function(){v.current&&v.current.stop(),n()}.bind(void 0),className:"close-btn"},r.a.createElement(U,null)),r.a.createElement("div",{className:"app-title"},"Scansiona il codice a barre")),r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v.current&&v.current.stop(),u.length<=2||(O.current&&O.current.blur(),o(u))}.bind(void 0)},r.a.createElement("input",{type:"text",value:u,placeholder:"Cerca un prodotto",ref:O,onChange:function(e){var t=e.target.value;t.length>0&&v.current&&v.current.stop(),s(t)}.bind(void 0)}))),r.a.createElement("div",{className:"reader ".concat(t&&f&&u.length<=0?"":"searching")},t&&f&&u.length<=0?r.a.createElement(X,{ref:v,onDetected:function(e){t&&(v.current&&v.current.stop(),n(),c(e.codeResult))}.bind(void 0),onError:function(){v.current&&v.current.stop(),m(!1)}.bind(void 0)}):r.a.createElement($,{onProductSelect:function(e){e.code&&(n(),c(e))}.bind(void 0)})))}));n(57);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ee=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.41421 12L16.7071 19.2929L15.2929 20.7071L6.58578 12L15.2929 3.29289L16.7071 4.70711L9.41421 12Z"}),te=function(e){var t=e.svgRef,n=e.title,a=Y(e,["svgRef","title"]);return r.a.createElement("svg",K({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),n?r.a.createElement("title",null,n):null,ee)},ne=r.a.forwardRef((function(e,t){return r.a.createElement(te,K({svgRef:t},e))})),ae=(n.p,Object(u.b)((function(e){var t;return{open:null===(t=e.modals.productInsertModal)||void 0===t?void 0:t.open,product:e.products.scannedProduct}}),{closeModal:function(e){return{type:"ACTION_CLOSE_PRODUCT_INSERT_MODAL",payload:e}},openScanModal:V})((function(e){var t=e.open,n=e.closeModal,c=e.openScanModal,o=e.product,i=Object(a.useState)(""),l=Object(F.a)(i,2),u=l[0],s=l[1],d=Object(a.useState)((new Date).toISOString().substr(0,10)),p=Object(F.a)(d,2),f=p[0],m=p[1];return r.a.createElement("div",{className:"ProductInsertModal ".concat(t?"open":"")},r.a.createElement("div",{className:"header"},r.a.createElement("div",{onClick:function(){s(""),m((new Date).toISOString().substr(0,10)),n(),c()}.bind(void 0),className:"close-btn"},r.a.createElement(ne,null)),r.a.createElement("div",{className:"app-title"},"Verifica e aggiungi")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"product-head"},r.a.createElement("img",{src:null===o||void 0===o?void 0:o.image_thumb_url,className:"product-image",alt:"product-image"}),r.a.createElement("div",{className:"product-info"},r.a.createElement("div",{className:"product-name"},null===o||void 0===o?void 0:o.product_name),r.a.createElement("div",{className:"description"},r.a.createElement("span",{className:"title"},"Ingredienti: "),r.a.createElement("span",{className:"ingredients"},(null===o||void 0===o?void 0:o.ingredients_text_it)||(null===o||void 0===o?void 0:o.ingredients_text_en)||(null===o||void 0===o?void 0:o.ingredients_text))))),r.a.createElement("div",{className:"nutriscore-container"},r.a.createElement("img",{src:"/img/nutriscore-".concat(null===o||void 0===o?void 0:o.nutrition_grades,".svg"),className:"nutriscore",alt:"Nessun nutriscore"}),r.a.createElement("img",{src:"/img/nova-group-".concat(null===o||void 0===o?void 0:o.nova_group,".svg"),className:"novagroup",alt:"Nessun novagroup"})),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"input-group card"},r.a.createElement("div",{className:"label"},"Quanit\xe0"),r.a.createElement("input",{type:"text",placeholder:"100 g",value:u,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"input-group card"},r.a.createElement("div",{className:"label"},"Data di scadenza"),r.a.createElement("input",{type:"date",className:"date",placeholder:"tra 5 giorni",value:f,onChange:function(e){return m(e.target.value)}})))))}))),re=Object(u.b)((function(e){return{product:e.products.product}}),{fetchProduct:function(e){return{type:"ACTION_FETCH_PRODUCT",payload:e}},openScanModal:V})((function(e){var t=e.product,n=e.fetchProduct,c=e.openScanModal;return Object(a.useEffect)((function(){t||n()}),[n,t]),r.a.createElement(x,null,r.a.createElement(A,{withBackground:!0,subtitle:["Hai ",r.a.createElement("strong",null,"4")," prodotti in scadenza"]}),r.a.createElement("div",{className:"HomePage"},r.a.createElement("div",{className:"content"},t&&r.a.createElement(P,{product:t})),r.a.createElement(I,{onClickEvent:function(){return c()}},r.a.createElement(U,null))),r.a.createElement(G,null),r.a.createElement(ae,null))})),ce=(n(58),function(){return r.a.createElement(x,null,r.a.createElement(A,{withBackground:!1,subtitle:"Ecco la tua lista della spesa"}),r.a.createElement("div",{className:"SpesaPage"},"Spesa Page"))});var oe=Object(l.g)(Object(u.b)((function(e){return{}}))((function(e){return e.authenticated,r.a.createElement("div",{style:{minHeight:"100%",minWidth:"100%"}},r.a.createElement(l.c,null,r.a.createElement(l.a,{label:"Home",component:re,path:"/",exact:!0}),r.a.createElement(l.a,{label:"Spesa",component:ce,path:"/spesa",exact:!0})))})));n(59);var ie=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{basename:window.baseUrl},r.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=n(13),ue=n(33),se=n(8),de={loading:!1,success:!1,error:!1,results:[]},pe={};pe.ACTION_SEARCH_PRODUCT=function(e,t){Object(se.a)({},e);return{loading:!0,success:!1,error:!1,results:[]}},pe.ACTION_SEARCH_PRODUCT_SUCCESS=function(e,t){Object(se.a)({},e);return{loading:!1,success:!0,error:!1,results:t.payload.filter((function(e){var t;return(null===(t=e.product_name)||void 0===t?void 0:t.length)>0&&e.code.length>0}))}},pe.ACTION_SEARCH_PRODUCT_FAILURE=function(e,t){Object(se.a)({},e);return{loading:!1,success:!1,error:!0,results:[]}};var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;return"function"===typeof pe[t.type]?pe[t.type](e,t):e},me={open:!1},ve={productScanModal:me,productInsertModal:me},Oe={};Oe.ACTION_CLOSE_PRODUCT_INSERT_MODAL=function(e,t){var n=Object(se.a)({},e);return n.productInsertModal={open:!1},n},Oe.ACTION_OPEN_PRODUCT_INSERT_MODAL=function(e,t){var n=Object(se.a)({},e);return n.productInsertModal={open:!0},n},Oe.ACTION_CLOSE_SCAN_MODAL=function(e,t){var n=Object(se.a)({},e);return n.productScanModal={open:!1},n},Oe.ACTION_OPEN_SCAN_MODAL=function(e,t){var n=Object(se.a)({},e);return n.productScanModal={open:!0},n};var ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return"function"===typeof Oe[t.type]?Oe[t.type](e,t):e},Ee={},_e={};_e.ACTION_PRODUCT_SCAN=function(e,t){return Object(se.a)({},e)},_e.ACTION_PRODUCT_SCAN_SUCCESS=function(e,t){var n=Object(se.a)({},e);return n.scannedProduct=t.payload,n},_e.ACTION_PRODUCT_SCAN_FAILURE=function(e,t){return Object(se.a)({},e)},_e.ACTION_FETCH_PRODUCT=function(e,t){return Object(se.a)({},e)},_e.ACTION_FETCH_PRODUCT_SUCCESS=function(e,t){var n=Object(se.a)({},e);return n.product=t.payload,n},_e.ACTION_FETCH_PRODUCT_FAILURE=function(e,t){return Object(se.a)({},e)};var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;return"function"===typeof _e[t.type]?_e[t.type](e,t):e},Ce=Object(le.c)({search:fe,modals:ge,products:be}),he=n(5),Ne=n.n(he),ye=n(6),Le=Ne.a.mark(je),Se=Ne.a.mark(Re);function je(e){var t,n;return Ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,fetch("https://it.openfoodfacts.org/cgi/search.pl?\n      action=process\n      &json=true\n      &simple_search=1\n      &sort_by=unique_scans_n\n      &fields=code,image_thumb_url,product_name,nutrition_grades,nova_group,ingredients_text_it,ingredients_text_en,ingredients_text\n      &search_terms=".concat(encodeURI(t))).then((function(e){return e.json()}));case 3:if(!(n=a.sent)){a.next=9;break}return a.next=7,Object(ye.b)({type:"ACTION_SEARCH_PRODUCT_SUCCESS",payload:n.products});case 7:a.next=11;break;case 9:return a.next=11,Object(ye.b)({type:"ACTION_SEARCH_PRODUCT_FAILURE"});case 11:case"end":return a.stop()}}),Le)}function Re(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.c)("ACTION_SEARCH_PRODUCT",je);case 2:case"end":return e.stop()}}),Se)}var we=Re,Te=Ne.a.mark(De),xe=Ne.a.mark(He),Ae=Ne.a.mark(Me),Pe=Ne.a.mark(ke),Ie=Ne.a.mark(Ue);function De(e){return Ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.payload;case 1:case"end":return t.stop()}}),Te)}function He(e){return Ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.payload;case 1:case"end":return t.stop()}}),xe)}function Me(e){return Ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.payload;case 1:case"end":return t.stop()}}),Ae)}function ke(e){return Ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.payload;case 1:case"end":return t.stop()}}),Pe)}function Ue(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.c)("ACTION_CLOSE_PRODUCT_INSERT_MODAL",De);case 2:return e.next=4,Object(ye.c)("ACTION_OPEN_PRODUCT_INSERT_MODAL",He);case 4:return e.next=6,Object(ye.c)("ACTION_CLOSE_SCAN_MODAL",Me);case 6:return e.next=8,Object(ye.c)("ACTION_OPEN_SCAN_MODAL",ke);case 8:case"end":return e.stop()}}),Ie)}var Ve=Ue,Fe=Ne.a.mark(ze),Ze=Ne.a.mark(We),Be=Ne.a.mark(qe);function ze(e){var t,n,a,r;return Ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!((n=e.payload).code&&(null===(t=n.product_name)||void 0===t?void 0:t.length)>0)){c.next=8;break}return c.next=4,Object(ye.b)({type:"ACTION_PRODUCT_SCAN_SUCCESS",payload:n});case 4:return c.next=6,Object(ye.b)({type:"ACTION_OPEN_PRODUCT_INSERT_MODAL"});case 6:c.next=21;break;case 8:return a="https://world.openfoodfacts.org/api/v0/product/".concat(n.code,".json?fields=image_thumb_url,product_name,nutrition_grades,nova_group,ingredients_text_it,ingredients_text_en,ingredients_text"),c.next=11,fetch(a).then((function(e){return e.json()}));case 11:if(1!==(r=c.sent).status||!r.product){c.next=19;break}return c.next=15,Object(ye.b)({type:"ACTION_PRODUCT_SCAN_SUCCESS",payload:r.product});case 15:return c.next=17,Object(ye.b)({type:"ACTION_OPEN_PRODUCT_INSERT_MODAL"});case 17:c.next=21;break;case 19:return c.next=21,Object(ye.b)({type:"ACTION_PRODUCT_SCAN_FAILURE",payload:r});case 21:case"end":return c.stop()}}),Fe)}function We(e){var t;return Ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.payload,"https://world.openfoodfacts.org/api/v0/product/3302749508029.json?fields=image_thumb_url,product_name,nutrition_grades,nova_group",n.next=4,fetch("https://world.openfoodfacts.org/api/v0/product/3302749508029.json?fields=image_thumb_url,product_name,nutrition_grades,nova_group").then((function(e){return e.json()}));case 4:if(1!==(t=n.sent).status||!t.product){n.next=10;break}return n.next=8,Object(ye.b)({type:"ACTION_FETCH_PRODUCT_SUCCESS",payload:t.product});case 8:n.next=12;break;case 10:return n.next=12,Object(ye.b)({type:"ACTION_FETCH_PRODUCT_FAILURE",payload:t});case 12:case"end":return n.stop()}}),Ze)}function qe(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.d)("ACTION_PRODUCT_SCAN",ze);case 2:return e.next=4,Object(ye.c)("ACTION_FETCH_PRODUCT",We);case 4:case"end":return e.stop()}}),Be)}var Je=qe,Xe=Ne.a.mark(Qe);function Qe(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([we(),Ve(),Je()]);case 2:case"end":return e.stop()}}),Xe)}var $e=Qe,Ge=n(36),Ke=n(34),Ye=n.n(Ke);o.a.render(r.a.createElement(u.a,{store:function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,t=Object(Ge.a)(),n=[ue.a,Ye.a,t],a=Object(le.e)(Ce,e(le.a.apply(void 0,n)));return t.run($e),a}()},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.086e84df.chunk.js.map